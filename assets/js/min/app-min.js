!function(e,t,n){"use strict";var s=new Clock(t.querySelector("#time span")),i=function(){var e,n=0,i=0,r=function(t,s){i++,t.getAttribute("data-pair")===s.getAttribute("data-pair")&&n++,i===e.professions.length&&o()},o=function(){s.stop();var e=t.createElement("p");e.textContent="Antal r√§tt: "+n,t.getElementById("playground").appendChild(e)},a={gridWidth:180,gridHeight:230,create:function(e){[].forEach.call(e,this.makeDraggable.bind(this))},makeDraggable:function(t){var n=this;Draggable.create(t,{type:"x,y",edgeResistance:.65,bounds:".game-board",throwProps:!0,snap:{x:function(e){return Math.round(e/n.gridWidth)*n.gridWidth},y:function(e){return Math.round(e/n.gridHeight)*n.gridHeight}},onDragEnd:function(t){[].forEach.call(e.professions,function(e){this.hitTest(e,50)&&(r(e,this.target),this.disable())}.bind(this))}})}},d=function(e){for(var n={professions:[],descriptions:[]},s=t.querySelector(".game-board"),i=0;i<e.length;i++){var r=new Profession(i,e[i].profession);n.professions.push(r.element),s.appendChild(r.element);var o=new Description(i,e[i].description);n.descriptions.push(o.element)}return n},c=function(e){this.professions=e,this.elements=this.createElements()};c.prototype.createElements=function(){for(var e=[],t=0;t<this.professions.length;t++){var n=new Profession(this.professions[t].profession);e.push(n.element)}return e};var p={professions:[],addedIndexes:[],get:function(){for(var e=new randomArrayIndex(gameData);this.professions.length<5;){var t=e.get();this.professions.push(gameData[t])}return this.professions}},f=function(){for(var n=t.querySelector(".game-board"),s=new randomArrayIndex(e.descriptions);s.addedIndexes.length<5;){var i=s.get();e.descriptions[i].style.left=180*(s.addedIndexes.length-1)+"px",e.descriptions[i].addEventListener("click",function(e){this.querySelector(".card").classList.toggle("flip")}),n.appendChild(e.descriptions[i])}};return{professions:p.get(),events:function(){t.querySelector("button").addEventListener("click",function(e){this.startGame()}.bind(this))},init:function(){var t=new c(this.professions);console.log(t),e=d(this.professions),a.create(e.descriptions),f(),this.events()},startGame:function(){s.start()}}}();i.init()}(window,document);