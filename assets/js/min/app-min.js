!function(e,t,s){"use strict";var n=new Clock(t.querySelector("#time span")),i=function(){var e=0,s=0,i=!1,o=180,r=230,a={type:"x,y",edgeResistance:1,bounds:".game-board",throwProps:!0},c={professions:[],addedIndexes:[],get:function(){for(var e=new randomArrayIndex(gameData);this.professions.length<5;){var t=e.get();this.professions.push(gameData[t])}return this.professions},reset:function(){this.professions=[],this.addedIndexes=[]}},l=function(e){for(var t=new randomArrayIndex(e);t.addedIndexes.length<5;){var s=t.get();e[s].element.style.left=180*(t.addedIndexes.length-1)+"px",m(e[s].element)}},d=t.querySelector(".score-comments"),h=function(e){console.log("correctAnswers: "+e),setTimeout(function(){d.classList.add("visible");var s=t.querySelector('.comment[data-score="'+e+'"]');s.classList.add("visible"),s.classList.add("animated"),s.classList.add("flipInY")},500)},u=function(){d.classList.remove("visible"),d.querySelector(".visible").classList.remove("visible")},f=t.querySelector(".game-board"),m=function(e){f.appendChild(e)},p=t.querySelector("#start-game");return{professions:null,bindEvents:function(){p.addEventListener("click",function(){i?(this.stopGame(),this.resetGame()):this.startGame()}.bind(this),!0)},init:function(){this.professions=c.get(),this.professionsCollection=new ProfessionsCollection(this.professions);for(var e=0;e<this.professionsCollection.elements.length;e++)m(this.professionsCollection.elements[e]);this.descriptionsCollection=new DescriptionsCollection(this.professions),l(this.descriptionsCollection.descriptions)},makeDraggable:function(e){var s=this,n=100;a.onDrag=function(e){[].forEach.call(s.professionsCollection.elements,function(e){this.hitTest(e,n)?e.classList.add("hover"):e.classList.remove("hover")}.bind(this))},a.onDragEnd=function(e){var i=t.querySelectorAll(".hover").length;[].forEach.call(s.professionsCollection.elements,function(e){this.hitTest(e,n)&&1===i&&TweenLite.to(this.target,.5,{x:Math.round(this.target._gsTransform.x/o)*o,y:-230,delay:.1,ease:Power2.easeInOut,onComplete:function(){s.cardHasBeenPlaced(e,this)}.bind(this)})}.bind(this))},Draggable.create(e,a)},cardHasBeenPlaced:function(e,t){this.checkAnswer(e,t.target),t.disable(),setTimeout(function(){t.target.classList.add("disabled"),t.target.querySelector("h3").innerHTML=e.getAttribute("data-pair"),e.style.display="none"},500)},startGame:function(){n.start(),this.turnCard(),p.innerHTML="BÃ¶rja om",i=!0},stopGame:function(){setTimeout(function(){t.body.classList.add("game-finished")},500),n.stop()},turnCard:function(){var e=this.descriptionsCollection.turnCard();this.makeDraggable(e.element)},checkAnswer:function(t,n){s++,t.getAttribute("data-pair")===n.getAttribute("data-pair")?(e++,n.classList.add("correct")):n.classList.add("wrong"),console.log(s),5===s?(this.stopGame(),h(e)):this.turnCard()},resetGame:function(){p.innerHTML="Starta",i=!1,s=0,e=0,u();for(var o=f.childNodes.length-1;o>=0;o--)f.childNodes[o].remove();setTimeout(function(){t.body.classList.remove("game-finished")},600),n.stop(),n.reset(),c.reset(),this.professionsCollection=null,this.descriptionsCollection=null,this.init()}}}();e.MatchMaker=i,i.bindEvents(),i.init()}(window,document);