!function(e,t,s){"use strict";var i=new Clock(t.querySelector("#time span")),n=function(){var e=0,s=0,n=!1,o=180,r=230,a={type:"x,y",edgeResistance:1,bounds:".game-board",throwProps:!0},c={professions:[],addedIndexes:[],get:function(){for(var e=new randomArrayIndex(gameData);this.professions.length<5;){var t=e.get();this.professions.push(gameData[t])}return this.professions},reset:function(){this.professions=[],this.addedIndexes=[]}},l=function(e){for(var t=new randomArrayIndex(e);t.addedIndexes.length<5;){var s=t.get();e[s].element.style.left=180*(t.addedIndexes.length-1)+"px",m(e[s].element)}},d=t.querySelector(".score-comments"),h=function(e){setTimeout(function(){d.classList.add("visible");var s=t.querySelector('.comment[data-score="'+e+'"]');s.classList.add("visible"),s.classList.add("animated"),s.classList.add("flipInY")},500)},u=function(){d.classList.remove("visible"),d.querySelector(".visible").classList.remove("visible")},f=t.querySelector(".game-board"),m=function(e){f.appendChild(e)},p=t.querySelector("#start-game");return{professions:null,bindEvents:function(){p.addEventListener("click",function(){n?(this.stopGame(),this.resetGame()):this.startGame()}.bind(this),!0)},init:function(){this.professions=c.get(),this.professionsCollection=new ProfessionsCollection(this.professions);for(var e=0;e<this.professionsCollection.elements.length;e++)m(this.professionsCollection.elements[e]);this.descriptionsCollection=new DescriptionsCollection(this.professions),l(this.descriptionsCollection.descriptions)},makeDraggable:function(e){var s=this,i=100;a.onDrag=function(e){[].forEach.call(s.professionsCollection.elements,function(e){this.hitTest(e,i)?e.classList.add("hover"):e.classList.remove("hover")}.bind(this))},a.onDragEnd=function(e){var n=t.querySelectorAll(".hover").length;[].forEach.call(s.professionsCollection.elements,function(e){this.hitTest(e,i)&&1===n&&TweenLite.to(this.target,.5,{x:Math.round(this.target._gsTransform.x/o)*o,y:-230,delay:.1,ease:Power2.easeInOut,onComplete:function(){s.cardHasBeenPlaced(e,this)}.bind(this)})}.bind(this))},Draggable.create(e,a)},cardHasBeenPlaced:function(e,t){this.checkAnswer(e,t.target),t.disable(),setTimeout(function(){t.target.classList.add("disabled"),t.target.querySelector("h3").innerHTML=e.getAttribute("data-pair"),e.style.display="none"},500)},startGame:function(){i.start(),this.turnCard(),p.innerHTML="BÃ¶rja om",n=!0},stopGame:function(){setTimeout(function(){t.body.classList.add("game-finished")},500),i.stop()},turnCard:function(){var e=this.descriptionsCollection.turnCard();this.makeDraggable(e.element)},checkAnswer:function(t,i){s++,t.getAttribute("data-pair")===i.getAttribute("data-pair")?(e++,i.classList.add("correct")):i.classList.add("wrong"),5===s?(this.stopGame(),h(e)):this.turnCard()},resetGame:function(){p.innerHTML="Starta",n=!1,s=0,u();for(var e=f.childNodes.length-1;e>=0;e--)f.childNodes[e].remove();setTimeout(function(){t.body.classList.remove("game-finished")},600),i.stop(),i.reset(),c.reset(),this.professionsCollection=null,this.descriptionsCollection=null,this.init()}}}();e.MatchMaker=n,n.bindEvents(),n.init()}(window,document);